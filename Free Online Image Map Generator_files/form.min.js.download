/*! FormCrafts 2018-07-20 */
function setupLabel(a){if("all"==a)jQuery(".label input").length&&(jQuery(".label").each(function(){jQuery(this).removeClass("is_on"),jQuery(this).removeClass("fake-is_on")}),jQuery(".label input:checked").each(function(){jQuery(this).parent("label").addClass("is_on")})),jQuery(".label.star input:checked").each(function(){var a=jQuery(this).parent().attr("data-index");for(jQuery(this).parent().parent().find(".fake-is_on").removeClass("fake-is_on");a>=0;)a--,jQuery(this).parent().parent().find(".child-"+a).addClass("fake-is_on")});else{var b=jQuery(a).find("input"),c=jQuery(a).find("input:checked");if("radio"==b.attr("type")){var d=b.attr("name");jQuery('input[name="'+d+'"]').each(function(){jQuery(this).length&&jQuery(this).parent(".label").removeClass("is_on"),jQuery(this).is(":checked").length&&jQuery(this).parent(".label").addClass("is_on")})}if(b.length&&jQuery(a).removeClass("is_on"),c.length&&jQuery(a).addClass("is_on"),jQuery(a).hasClass("star")){var e=jQuery(a).attr("data-index");for(jQuery(a).parent().find(".fake-is_on").removeClass("fake-is_on");e>=0;)e--,jQuery(a).parent().find(".child-"+e).addClass("fake-is_on")}}}function growComments(a){a.clientHeight<a.scrollHeight&&(a.style.height=a.scrollHeight+"px",a.clientHeight<a.scrollHeight&&(a.style.height=2*a.scrollHeight-a.clientHeight+"px"))}function loadProgress(){if(void 0==window.fp)return!1;var a="object"==typeof window.fp?window.fp:jQuery.parseJSON(window.fp);for(field in a)if("string"==typeof a[field])jQuery('[name="'+field+'[]"]').hasClass("datepicker")?jQuery('[name="'+field+'[]"]').datepicker("setDate",a[field]):jQuery('[name="'+field+'"]').hasClass("slider-input")?(jQuery('[name="'+field+'"]').val(a[field]),jQuery('[name="'+field+'"]').parent().find(".slider-value").text(a[field]),-1!=a[field].indexOf(" - ")?jQuery('[name="'+field+'"]').parent().find(".slider").slider("values",a[field].split(" - ")):jQuery('[name="'+field+'"]').parent().find(".slider").slider("value",a[field])):jQuery('[name="'+field+'"]').hasClass("summernote-value")?(jQuery('[name="'+field+'"]').val(a[field]).trigger("input").trigger("change"),jQuery('[name="'+field+'"]').parent().find(".note-editable").html(a[field]),jQuery('[name="'+field+'"]').parent().find(".note-editable").html(a[field])):jQuery('[name="'+field+'"]').val(a[field]).trigger("input").trigger("change");else if(jQuery('[name="'+field+'[]"]').is("select"))jQuery('[name="'+field+'[]"].hourpicker').val(a[field][0]),jQuery('[name="'+field+'[]"].minutepicker').val(a[field][1]),jQuery('[name="'+field+'[]"].meridianpicker').val(a[field][2]);else for(option in a[field])jQuery('[name="'+field+"["+option+']"]').length?jQuery('[name="'+field+"["+option+']"]').each(function(){var b=jQuery(this).val();b==a[field][option]&&jQuery(this).prop("checked",!0).trigger("change").trigger("input")}):jQuery('[name="'+field+'[]"]').each(function(){var b=jQuery(this).val();b==a[field][option]&&jQuery(this).prop("checked",!0).trigger("change").trigger("input")})}function save_form_progress(a,b,c){var d=jQuery(a).serialize()+"&visitor="+window.vid;window.vid=void 0==window.vid?"":window.vid,meta=[],jQuery(".hidden-element:not(.action-shown), .action-hidden").each(function(){meta.push(jQuery(this).attr("data-field"))});var e="false";if(jQuery(".formcrafts.formcrafts-preview").length)var e=jQuery(".formcrafts-form.save-default").length?"true":"delete";if(void 0==window.fp_data)window.fp_data=d+e;else{if(window.fp_data==d+e)return!1;window.fp_data=d+e}jQuery.ajax({url:window.base+"form/save/"+jQuery("#form_id").val(),type:"POST",data:d+"&meta="+meta.join(",")+"&default="+e,context:$(this)}).always(function(){jQuery(a).find("input, textarea").prop("disabled",!1)}).done(function(a){c(a)}).fail(function(){c(!1)})}function supports3d(){for(var a=document.createElement("div"),b=!1,c=["perspectiveProperty","WebkitPerspective"],d=c.length-1;d>=0;d--)b=b?b:void 0!=a.style[c[d]];if(b){var e=document.createElement("style");e.textContent="@media (-webkit-transform-3d){#test3d{height:3px}}",document.getElementsByTagName("head")[0].appendChild(e),a.id="test3d",document.body.appendChild(a),b=3===a.offsetHeight,e.parentNode.removeChild(e),a.parentNode.removeChild(a)}return b}function setJEditor(){return 0==jQuery(".summernote").length?!1:void(jQuery(".form-live").length?(jQuery(".summernote").parent().find(".note-editor").remove(),summernoteConfig={},summernoteConfig.height=150,summernoteConfig.toolbar=[["style",["style"]],["color",["color"]],["layout",["ul","ol"]],["font",["bold","italic","clear"]],["insert",["link"]]],summernoteConfig.onChange=function(a,b){a.parents(".input_cover").find("input.summernote-value").val(b);var c=parseInt(a.parents(".summernote-wrapper").attr("data-max")),d=parseInt(a.text().length),e=c-d;a.parents(".summernote-wrapper").find(".chars-remain > span").text(e),d>c?a.parents(".summernote-wrapper").find(".chars-remain").addClass("red"):a.parents(".summernote-wrapper").find(".chars-remain").removeClass("red")},setTimeout(function(){jQuery(".summernote").summernote(summernoteConfig),loadProgress()},100)):jQuery(".summernote").each(function(){jQuery(this).parent().find(".note-editor").length||(summernoteConfig={},summernoteConfig.toolbar=[["style",["style"]],["color",["color"]],["layout",["ul","ol"]],["font",["bold","italic","clear"]],["insert",["link"]],["misc",["codeview"]]],summernoteConfig.height=150,summernoteConfig.onChange=function(a,b){a.parents(".input_cover").find("input.summernote-value").val(b)},jQuery(this).summernote(summernoteConfig),loadProgress())}))}function setTab(a,b){"undefined"==typeof window.pageEventSent&&(window.pageEventSent=[]);var c=jQuery(".pagination span.active").attr("data-index"),d=jQuery(".page-index:last-child").attr("data-index");"undefined"!=typeof submit_form&&"arrow"==b&&parseInt(a)==parseInt(c)+1?(jQuery(".step-arrow .icon-spin5").css("display","inline-block"),jQuery(".step-arrow span").css("display","none"),submit_form(".formcrafts-form",c,function(b){jQuery(".step-arrow .icon-spin5").css("display","none"),jQuery(".step-arrow span").css("display","inline-block"),jQuery("form").find("input, textarea, .submit").prop("disabled",!1),b.errors||(jQuery(".form-page-cover.active").removeClass("active"),jQuery(".form-page-cover").hide(),jQuery(".pagination span.active").removeClass("active"),jQuery(".formcrafts-preview").length||jQuery(".step-arrow").show(),d==a&&jQuery(".step-arrow.next").hide(),1==a&&jQuery(".step-arrow.prev").hide(),jQuery(".form-page-cover.page-"+a).addClass("active"),jQuery(".form-page-cover.page-"+a).css("display","block"),jQuery(".form-page-cover.page-"+a).show(),jQuery(".pagination span.index-"+a).addClass("active"),jQuery("html, body").animate({scrollTop:0},600),"undefined"!=typeof socket&&socket.postMessage("scrollTop"),1!=a&&"undefined"==typeof window.pageEventSent[a]&&"undefined"!=typeof window.hasGA&&(window.pageEventSent[a]="true",ga("b.send","event","Multi-Page Form","Reached Page "+a,window.formName,1)))})):(jQuery(".form-page-cover.active").removeClass("active"),jQuery(".form-page-cover").hide(),jQuery(".pagination span.active").removeClass("active"),jQuery(".formcrafts-preview").length||jQuery(".step-arrow").show(),d==a&&jQuery(".step-arrow.next").hide(),1==a&&jQuery(".step-arrow.prev").hide(),jQuery(".form-page-cover.page-"+a).addClass("active"),jQuery(".form-page-cover.page-"+a).show(),jQuery(".form-page-cover.page-"+a).css("display","block"),jQuery(".pagination span.index-"+a).addClass("active"),jQuery("html, body").animate({scrollTop:0},600),"undefined"!=typeof socket&&socket.postMessage("scrollTop"),1!=a&&"undefined"==typeof window.pageEventSent[a]&&"undefined"!=typeof window.hasGA&&(window.pageEventSent[a]="true",ga("b.send","event","Multi-Page Form","Reached Page "+a,window.formName,1)))}function sliderSet(a){selector=a&&"null"!=a?a.parents(".form-element").find(".slider"):jQuery(".slider"),a||jQuery(".ui-slider-range").remove(),selector.each(function(){var b=parseInt(jQuery(this).attr("fc-max"))?parseInt(jQuery(this).attr("fc-max")):100,c=parseInt(jQuery(this).attr("fc-min"))?parseInt(jQuery(this).attr("fc-min")):0,d=parseInt(jQuery(this).attr("fc-step"))?parseInt(jQuery(this).attr("fc-step")):10,e="true"==jQuery(this).attr("fc-type")?!0:!1,f=1==e?[c,1.5*c>.25*b?1.5*c:.25*b]:[c],f="null"==a?null:f,g=jQuery(this).attr("fc-pre"),h=jQuery(this).attr("fc-suf");jQuery(this).hasClass("ui-slider")&&jQuery(this).slider("destroy"),jQuery(this).find(".ui-slider-range").remove(),jQuery(this).slider({animate:"fast",range:e,slide:function(a,b){void 0!=b.values?(jQuery(this).parent().find(".slider-value").text(g+" "+b.values[0]+" - "+b.values[1]+" "+h),jQuery(this).parent().find(".slider-input").val(b.values[0]+" - "+b.values[1])):(jQuery(this).parent().find(".slider-value").text(g+" "+b.value+" "+h),jQuery(this).parent().find(".slider-input").val(b.value))},create:function(a,b){void 0!=b.values?(jQuery(this).parent().find(".slider-value").text(g+" "+b.values[0]+" - "+b.values[1]+" "+h),jQuery(this).parent().find(".slider-input").val(b.values[0]+" - "+b.values[1])):(jQuery(this).parent().find(".slider-value").text(g+" "+b.value+" "+h),jQuery(this).parent().find(".slider-input").val(b.value))},change:function(){jQuery(this).parent().find(".slider-input").trigger("input")}}),e?jQuery(this).slider("values",f):jQuery(this).slider("value",f),c&&jQuery(this).slider("option","min",c),b&&jQuery(this).slider("option","max",b),d&&jQuery(this).slider("option","step",d),jQuery(this).slider("values").length>0?(jQuery(this).parent().find(".slider-value").text(g+" "+jQuery(this).slider("values",0)+" - "+jQuery(this).slider("values",1)+" "+h),jQuery(this).parent().find(".slider-input").val(jQuery(this).slider("values",0)+" - "+jQuery(this).slider("values",1))):(jQuery(this).parent().find(".slider-value").text(g+" "+jQuery(this).slider("value")+" "+h),jQuery(this).parent().find(".slider-input").val(jQuery(this).slider("value"))),jQuery(this).parent().find(".slider-input").trigger("input")})}function timeSet(){jQuery(".hourpicker").each(function(){var a=jQuery(this).attr("min"),b=jQuery(this).attr("max"),c=jQuery(this).attr("step"),d=jQuery(this).attr("format");jQuery(this).hourpicker({min:a,max:b,format:d,step:c})}),jQuery(".minutepicker").each(function(){var a=jQuery(this).attr("step");jQuery(this).minutepicker({step:a})}),jQuery(".meridianpicker").each(function(){var a=jQuery(this).attr("format");24==parseInt(a)?(jQuery(this).attr("value",""),jQuery(this).val("")):jQuery(this).val("PM")})}function tooltipSet(a){jQuery(a).tooltip("hide"),jQuery(a).tooltip("destroy"),""==!jQuery(a).attr("data-original-title")?(jQuery(a).show(),jQuery(a).tooltip({html:!0})):jQuery(a).hide()}function dateSet(a){jQuery(".datepicker").each(function(){if(jQuery(this).hasClass("sub"))var b=jQuery(this).val();if(jQuery(this).hasClass("hasDatepicker")||(jQuery(this).datepicker({changeMonth:!0,changeYear:!0,yearRange:"c-100:c+100",onSelect:function(){if(jQuery(this).trigger("input"),jQuery(this).hasClass("sub")){jQuery(this).attr("mindate")&&dateSet("minmax");var a=jQuery.datepicker.formatDate("yy-M-dd",jQuery(this).datepicker("getDate"));jQuery(this).parent().find(".hidden_one").val(a),jQuery(this).parent().find(".hidden_one").trigger("input")}else{var a=jQuery.datepicker.formatDate("yy-M-dd",jQuery(this).datepicker("getDate"));jQuery(this).parent().find(".hidden_one").val(a),jQuery(this).parent().find(".hidden_one").trigger("input")}}}),jQuery(this).hasClass("sub")&&(jQuery(this).datepicker("option","dateFormat","dd-mm-yy"),"-1"!=b.indexOf("-")&&"0"!=b.indexOf("-")?jQuery(this).datepicker("setDate",b):jQuery(this).val(b))),!jQuery(this).hasClass("sub")){if("min"==a)void 0!=jQuery(this).attr("mindate")&&(jQuery(this).hasClass("sub")?jQuery(this).datepicker("option","minDate",window.mindate):(window.mindate=2==jQuery(this).attr("mindate").indexOf("-")?jQuery.datepicker.parseDate("dd-mm-yy",jQuery(this).attr("mindate")):jQuery(this).attr("mindate"),jQuery(this).datepicker("option","minDate",window.mindate)));else if("max"==a){if(void 0!=jQuery(this).attr("maxdate")){if(2==jQuery(this).attr("maxdate").indexOf("-"))var c=jQuery.datepicker.parseDate("dd-mm-yy",jQuery(this).attr("maxdate"));else var c=jQuery(this).attr("maxdate");jQuery(this).datepicker("option","maxDate",c)}}else if("format"==a){if(jQuery(this).hasClass("sub")||(window.dateFormat=jQuery(this).attr("dateformat"),jQuery(this).datepicker("option","dateFormat",window.dateFormat)),void 0!=jQuery(this).attr("mindate")&&void 0!=jQuery(this).attr("maxdate")){if(2==jQuery(this).attr("maxdate").indexOf("-"))var c=jQuery.datepicker.parseDate("dd-mm-yy",jQuery(this).attr("maxdate"));else var c=jQuery(this).attr("maxdate");jQuery(this).datepicker("option","maxDate",c)}if(void 0!=jQuery(this).attr("mindate")&&void 0!=jQuery(this).attr("maxdate")){if(2==jQuery(this).attr("mindate").indexOf("-"))var d=jQuery.datepicker.parseDate("dd-mm-yy",jQuery(this).attr("mindate"));else var d=jQuery(this).attr("mindate");jQuery(this).datepicker("option","minDate",d)}}else if("lang"==a){{jQuery(this).attr("lang")}if(jQuery(this).hasClass("sub")||(window.dateLang=jQuery(this).attr("lang")),void 0!=window.dateLang&&""!=window.dateLang){if(jQuery.get(window.base+"js/datepicker-lang/jquery.ui.datepicker-"+window.dateLang+".js"),void 0!=jQuery(this).attr("mindate")&&void 0!=jQuery(this).attr("maxdate")){if(2==jQuery(this).attr("maxdate").indexOf("-"))var c=jQuery.datepicker.parseDate("dd-mm-yy",jQuery(this).attr("maxdate"));else var c=jQuery(this).attr("maxdate");jQuery(this).datepicker("option","maxDate",c)}if(void 0!=jQuery(this).attr("mindate")&&void 0!=jQuery(this).attr("maxdate")){if(2==jQuery(this).attr("mindate").indexOf("-"))var d=jQuery.datepicker.parseDate("dd-mm-yy",jQuery(this).attr("mindate"));else var d=jQuery(this).attr("mindate");jQuery(this).datepicker("option","minDate",d)}}}if(void 0==a){{jQuery(this).attr("lang")}if(jQuery(this).hasClass("sub")||(jQuery(this).datepicker("option","dateFormat",jQuery(this).attr("dateformat")),window.dateLang=jQuery(this).attr("lang")),void 0!=window.dateLang&&""!=window.dateLang&&jQuery.get(window.base+"js/datepicker-lang/jquery.ui.datepicker-"+window.dateLang+".js"),void 0!=jQuery(this).attr("maxdate")){if(2==jQuery(this).attr("maxdate").indexOf("-"))var c=jQuery.datepicker.parseDate("dd-mm-yy",jQuery(this).attr("maxdate"));else var c=jQuery(this).attr("maxdate");jQuery(this).datepicker("option","maxDate",c)}if(void 0!=jQuery(this).attr("mindate")){if(2==jQuery(this).attr("mindate").indexOf("-"))var d=jQuery.datepicker.parseDate("dd-mm-yy",jQuery(this).attr("mindate"));else var d=jQuery(this).attr("mindate");jQuery(this).datepicker("option","minDate",d)}}}})}function refresh_captcha(){jQuery(".captcha-image").each(function(){var a=jQuery(this).attr("src").indexOf("?rand"),b=Math.random().toString(36).replace(/[^a-z]+/g,"");a=jQuery(this).attr("src").substring(0,a)+"?rand="+b,jQuery(this).attr("src",a),jQuery(this).parents(".input_cover").find(".captcha-hidden").val(b)})}function refreshFilesCount(){jQuery(".file-cover").each(function(){var a=jQuery(this).find(".files-list li").size();jQuery(this).find(".fileupload").attr("data-files",a)})}function fileSet(){jQuery(".fileupload").each(function(){jQuery(this).attr("data-url",window.base+"form/file/upload/"+jQuery("#form_id").val()),jQuery(this).fileupload({dataType:"json",sequentialUploads:!0,add:function(a,b){var c=jQuery(a.target).parent().parent().find(".files-list li").length;if(""!=jQuery(a.target).attr("Fmax")&&c>=jQuery(a.target).attr("Fmax"))return console.log("Too many files"),!1;var d=parseInt(b.files[0].size/1048576);if(d>=parseInt(jQuery(a.target).attr("Fsize"))||d>=150)return alert("File is too big"),!1;var e=b.files[0].name.split(".");e=e[e.length-1];var f=jQuery(a.target).attr("Fallowed");if(f)var f=f.split(" ");var g=!1;if(f){for(var h in f)if(f[h]==e)var g=!0}else var g=!0;if(0==g)return alert("Incorrect file type"),!1;var i=jQuery(a.target).parent().parent().find(".files-list");i.append('<li><span style="width: 0%"></span><i class="icon-cancel-circled delete-uploaded-file"></i></li>'),b.whichLI=i.find("li").length,window.jqXHR=b.submit()},done:function(a,b){var c=b.whichLI,d=jQuery(a.target).parent().parent().find(".files-list"),e=(parseInt(b.loaded/b.total*100,10),jQuery(a.target).attr("identifier")),f='<input type="hidden" name="'+e+'[]" value="'+b.result.temp+'" class="file-list-item">';if(b.result.success)d.find("li:nth-child("+c+") span").text(b.result.success),d.find("li:nth-child("+c+") span").append(f),refreshFilesCount(),d.find("li:nth-child("+c+") input").trigger("input"),d.find("li:nth-child("+c+") span").css("width","100%"),d.find("li:nth-child("+c+") .delete-uploaded-file").show().attr("data-temp",b.result.temp);else{if(b.result.failed)return d.find("li:nth-child("+c+") span").text("failed"),d.find("li:nth-child("+c+")").remove(),alert(b.result.failed),!1;d.find("li:nth-child("+c+") span").text("failed"),d.find("li:nth-child("+c+")").remove()}},fail:function(a){var b=jQuery(a.target).parent().parent().find(".files-list"),c=b.find("li").length;b.find("li:nth-child("+c+")").remove(),refreshFilesCount()},progress:function(a,b){var c=jQuery(a.target).parent().parent().find(".files-list"),d=parseInt(b.loaded/b.total*100,10);c.find("li:nth-child("+b.whichLI+") span").css("width",d+"%")},progressall:function(a,b){var c=parseInt(b.loaded/b.total*100,10);100==c?jQuery(a.target).parent().parent().find(".fileupload-cancel-all").hide():jQuery(a.target).parent().parent().find(".fileupload-cancel-all").show()}})})}function prepareShowcase(){jQuery(".showcase-wrapper").each(function(){jQuery(this).find(".left,.right,.center,.far-left,.far-right").removeClass("left right center far-left far-right").find("input").prop("checked",!1),jQuery(this).find(".slide-0").addClass("left"),jQuery(this).find(".slide-1").addClass("center"),jQuery(this).find(".slide-1").find("input").prop("checked",!0).trigger("change").trigger("input"),jQuery(this).find(".slide-2").addClass("right");for(var a=jQuery(this).find(".slide").length,b=3;a>=b;)jQuery(this).find(".slide-"+b).addClass("far-right"),b++})}function disableForm(){jQuery(".formcrafts-form").find("input, textarea, .submit").prop("disabled",!0),jQuery(".formcrafts-form .submit span").css("opacity",0),jQuery(".formcrafts-form .submit .loading").show()}function enableForm(){jQuery(".formcrafts-form").find("input, textarea, .submit").prop("disabled",!1),jQuery(".formcrafts-form .submit span").css("opacity",1),jQuery(".formcrafts-form .submit .loading").hide()}function stripe_get_token(a){disableForm(),a.find(".submit-cover .response").slideUp("fast"),a.find(".submit-cover .response").text("");var b=window.StripeMain,c=window.StripeCard;b.createToken(c).then(function(b){if(b.error)enableForm(),a.find(".submit-cover .response").text(b.error.message),a.find(".submit-cover .response").slideDown("fast");else{var c=b.token.id;jQuery(".formcrafts-form").append($('<input type="hidden" name="stripe_token" id="stripe_token"/>').val(c)),jQuery(".formcrafts-form").submit()}})}function submit_form(a,b,c){jQuery(".error-message").text("").hide(),jQuery(a).find(".submit-cover .response").slideUp("fast"),jQuery(a).find(".error-count").hide(),"all"==b&&disableForm(),jQuery(".error-field").removeClass("error-field"),jQuery(a).find("input, textarea, .submit").prop("disabled",!1);var d=jQuery(a).serialize()+"&visitor="+window.vid;jQuery(".stripe-amount").length&&(d=d+"&stripe_amount="+jQuery(".stripe-amount").val()),jQuery(a).find("input, textarea, .submit").prop("disabled",!0),window.vid=void 0==window.vid?"":window.vid,hidden=[],jQuery(".hidden-element:not(.action-shown), .action-hidden").each(function(){hidden.push(jQuery(this).attr("data-field"))});var e=window.referrerURL.split("?"),f=e.length>1?e[e.length-1].split("&"):[];if(document.URL!=window.referrerURL)var e=document.URL.split("?"),g=e.length>1?e[e.length-1].split("&"):[],f=f.concat(g);if(f)for(var h={},i=0;i<f.length;i++){var j=f[i].split("=");h[j[0]]=void 0==j[1]?"":j[1]}else var h=null;meta={},meta.hidden=hidden.join(","),void 0!=window.sendEmails&&(meta.sendEmails=window.sendEmails),void 0!=window.addTags&&(meta.addTags=window.addTags),void 0!=window.addIntegration&&(meta.addIntegration=window.addIntegration),void 0!=window.redirect&&(meta.redirect=encodeURIComponent(window.redirect)),meta.pageURL=encodeURIComponent(window.referrerURL),meta.pageTitle="undefined"==typeof window.pageTitle?document.getElementsByTagName("title")[0].innerHTML:encodeURIComponent(window.pageTitle),meta.GETvars=h,meta=JSON.stringify(meta);var k=jQuery("#paypal-form-post").length?"true":"false";jQuery.ajax({url:window.base+"form/submit/"+jQuery("#form_id").val(),type:"POST",timeout:5e4,data:d+"&meta="+meta+"&page="+b+"&temp="+k,context:$(this)}).always(function(){"all"==b&&enableForm()}).done(function(d){if(c(d,a),"undefined"!=typeof d.failed){jQuery(".form-page-cover").parent().addClass("shake"),"all"==b&&""!=d.failed&&(jQuery(a).find(".submit-cover .response").text(d.failed),jQuery(a).find(".submit-cover .response").slideDown("fast"));for(x in d.counts)jQuery(".error-count.index-"+x).length&&(jQuery(".error-count.index-"+x).text(d.counts[x]),jQuery(".error-count.index-"+x).show());for(x in d.errors)for(y in d.errors[x])jQuery("."+y+".error-message").length&&(jQuery("."+y+".error-message").text(d.errors[x][y]),jQuery("."+y+".error-message").show(),jQuery("."+y+".error-message").parents(".input_cover").addClass("error-field"))}}).fail(function(b){var d=0==b.status?"Timeout":b.status;jQuery(a).find(".submit-cover .response").text("Error: "+d+". Please try again.").slideDown(),jQuery(a).find("input, textarea, .submit").prop("disabled",!1),c(!1,a)})}function valueByNameSimple(a){var b=jQuery(jQuery('[name="'+a+'"]').length?'[name="'+a+'"]':'[name="'+a+'[]"]');if(b.hasClass("datepicker")){var c=new Date,d=c.getTime()-b.datepicker("getDate").getTime();return parseInt(Math.floor(d/864e5))}var e=valueByName(a);if("string"==valueType(a))return f=e.join();var f=0;for(key in e)f=isNaN(e[key])?f:parseFloat(e[key])+f;return f}function valueType(a){var b=jQuery(jQuery('[name="'+a+'"]').length?'[name="'+a+'"]':'[name="'+a+'[]"]');if(b.hasClass("datepicker")){{var c=new Date;c.getTime()-b.datepicker("getDate").getTime()}return"integer"}var d=valueByName(a);for(key in d)if(isNaN(d[key]))return"string";return"integer"}function setValueEmpty(a){if(ths=jQuery('[name="'+a+'"]'),0==ths.length&&(ths=jQuery('[name="'+a+'[]"]'),a+="[]"),b=null,ths.is("select"))var b="select";else if(ths.is("textarea"))var b="textarea";else var b=ths.attr("type");switch("captcha-hidden"==ths.first().attr("class")&&(ths=ths.eq(1)),ths.hasClass("file-list-item")&&(ths=ths.parents(".input_cover").find(".fileupload"),b="file"),(ths.hasClass("hourpicker")||ths.hasClass("minutepicker")||ths.hasClass("meridianpicker"))&&(b="time"),b){case"radio":case"checkbox":jQuery('[name="'+a+'"]:checked').each(function(){jQuery(this).prop("checked",!1).trigger("change")});break;case"text":case"email":case"textarea":case"select":case"hidden":""!=ths.val()&&(ths.val(""),ths.trigger("input"));break;case"file":return!1;case"time":temp=[];var c=0;jQuery('[name="'+a+'"]').each(function(){return ths.parents(".input_cover").hasClass("format_24")&&2==c?!1:(jQuery(this).val("").trigger("input"),void c++)})}return!0}function valueByName(a){if(list=[],ths=jQuery('[name="'+a+'"]'),0==ths.length&&(ths=jQuery('[name="'+a+'[]"]'),a+="[]"),b=null,ths.is("select"))var b="select";else if(ths.is("textarea"))var b="textarea";else var b=ths.attr("type");switch("captcha-hidden"==ths.first().attr("class")&&(ths=ths.eq(1)),ths.hasClass("file-list-item")&&(ths=ths.parents(".input_cover").find(".fileupload"),b="file"),(ths.hasClass("hourpicker")||ths.hasClass("minutepicker")||ths.hasClass("meridianpicker"))&&(b="time"),b){case"radio":case"checkbox":jQuery('[name="'+a+'"]:checked').each(function(){list.push(jQuery(this).val())});break;case"text":case"email":case"textarea":case"select":case"hidden":""!=ths.val()&&list.push(ths.val());break;case"file":list.push(ths.attr("data-files"));break;case"time":temp=[];var c=0;jQuery('[name="'+a+'"]').each(function(){return ths.parents(".input_cover").hasClass("format_24")&&2==c?!1:(temp.push(jQuery(this).val()),void c++)}),list.push(temp.join(" "))}return list}function ConditionalLogic(){if(window.submit=!1,actions={},actions.show={show:[],hide:[]},actions.hide={show:[],hide:[]},void 0==window.FormCraftLogic)return!1;for(logic in window.FormCraftLogic){perform=!1;for(condition in window.FormCraftLogic[logic].conditions)if("undefined"!=typeof window.FormCraftLogic[logic].conditions[condition].fieldId&&"undefined"!=typeof window.FormCraftLogic[logic].conditions[condition].operator){var a="";if(0==valueByName(window.FormCraftLogic[logic].conditions[condition].fieldId).length)var a=valueByName(window.FormCraftLogic[logic].conditions[condition].fieldId+"[]");else var a=valueByName(window.FormCraftLogic[logic].conditions[condition].fieldId);var b=!1;switch(window.FormCraftLogic[logic].conditions[condition].compareWith="undefined"==typeof window.FormCraftLogic[logic].conditions[condition].compareWith?"":window.FormCraftLogic[logic].conditions[condition].compareWith,window.FormCraftLogic[logic].conditions[condition].operator){case"is":var c=window.FormCraftLogic[logic].conditions[condition].compareWith;if(a==c)var b=!0;break;case"isnot":var c=window.FormCraftLogic[logic].conditions[condition].compareWith;if(a!=c&&""!=a.toString())var b=!0;break;case"islessthan":var c=window.FormCraftLogic[logic].conditions[condition].compareWith;if(isNaN(parseFloat(a))||isNaN(parseFloat(c)))continue;if(parseFloat(a)<parseFloat(c))var b=!0;break;case"ismorethan":var c=window.FormCraftLogic[logic].conditions[condition].compareWith;if(isNaN(parseFloat(a))||isNaN(parseFloat(c)))continue;if(parseFloat(a)>parseFloat(c))var b=!0;break;case"contains":var c=window.FormCraftLogic[logic].conditions[condition].compareWith.toString().toLowerCase();if(""==c&&0!=a.length)var b=!0;var a=a.toString().toLowerCase();if(""!=c&&-1!=a.indexOf(c))var b=!0;break;case"doesnotcontain":var a=a.toString().toLowerCase(),c=window.FormCraftLogic[logic].conditions[condition].compareWith.toString().toLowerCase();if(-1==a.indexOf(c))var b=!0}if(perform=b,0==b){perform=!1;break}}for(action in window.FormCraftLogic[logic].events)switch(elm=window.FormCraftLogic[logic].events[action].actionTo,window.FormCraftLogic[logic].events[action].action){case"hide":1==perform?(jQuery("."+elm+"-li").hasClass("hide-logic-"+logic)||jQuery("."+elm+"-li").addClass("hide-logic-"+logic),actions.hide.hide.push({element:elm,logic:logic})):0==perform&&jQuery("."+elm+"-li").hasClass("hide-logic-"+logic)&&!jQuery("."+elm+"-li").hasClass("hidden-element")&&(jQuery("."+elm+"-li").removeClass("hide-logic-"+logic),actions.hide.show.push({element:elm,logic:logic}));break;case"show":1==perform?(jQuery("."+elm+"-li").hasClass("show-logic-"+logic)||jQuery("."+elm+"-li").addClass("show-logic-"+logic),actions.show.show.push({element:elm,logic:logic})):0==perform&&jQuery("."+elm+"-li").hasClass("show-logic-"+logic)&&jQuery("."+elm+"-li").hasClass("hidden-element")&&(jQuery("."+elm+"-li").removeClass("show-logic-"+logic),actions.show.hide.push({element:elm,logic:logic}));break;case"email":if(1==perform){window.sendEmails=window.sendEmails||[];var d=window.sendEmails.indexOf(elm);-1==d&&window.sendEmails.push(elm)}else{window.sendEmails=window.sendEmails||[];var d=window.sendEmails.indexOf(elm);-1!=d&&window.sendEmails.splice(d,1)}break;case"tags":if(1==perform){window.addTags=window.addTags||[];var d=window.addTags.indexOf(elm);-1==d&&window.addTags.push(elm)}break;case"integration":if(1==perform){window.addIntegration=window.addIntegration||[];var d=window.addIntegration.indexOf(elm);-1==d&&window.addIntegration.push(elm)}else if(window.addIntegration){var d=window.addIntegration.indexOf(elm);-1!=d&&window.addIntegration.splice(window.addIntegration.indexOf(elm),1)}break;case"redirect":1==perform&&(window.redirect=elm);break;case"submit":1==perform&&(window.submit=!0)}}for(key in actions.show.hide)for(key2 in actions.show.show)void 0!=actions.show.hide[key]&&actions.show.hide[key].element==actions.show.show[key2].element&&(actions.show.hide[key].element="",actions.show.show[key2].element="");for(key in actions.hide.show)for(key2 in actions.hide.hide)void 0!=actions.hide.show[key]&&actions.hide.show[key].element==actions.hide.hide[key2].element&&(actions.hide.show[key].element="",actions.hide.hide[key2].element="");for(key in actions.show.show)for(key2 in actions.hide.hide)actions.show.show[key].element==actions.hide.hide[key2].element&&(actions.show.show[key].logic>actions.hide.hide[key2].logic?actions.hide.hide[key2].element="":actions.show.show[key].element="");navigator.userAgent.match(/(iPad|iPhone|iPod|Android)/g)&&(jQuery.fx.interval=25),setEmpty=[];for(el in actions.show.show)0!=actions.show.show.length&&""!=actions.show.show[el].element&&jQuery("."+actions.show.show[el].element+"-li").slideDown(300).addClass("action-shown").removeClass("action-hidden");for(el in actions.show.hide)0!=actions.show.hide.length&&""!=actions.show.hide[el].element&&(jQuery("."+actions.show.hide[el].element+"-li").slideUp(300).addClass("action-hidden").removeClass("action-shown"),setEmpty.push(actions.show.hide[el].element));for(el in actions.hide.show)0!=actions.hide.show.length&&""!=actions.hide.show[el].element&&jQuery("."+actions.hide.show[el].element+"-li").slideDown(300).addClass("action-shown").removeClass("action-hidden");for(el in actions.hide.hide)0!=actions.hide.hide.length&&""!=actions.hide.hide[el].element&&(jQuery("."+actions.hide.hide[el].element+"-li").slideUp(300).addClass("action-hidden").removeClass("action-shown"),setEmpty.push(actions.hide.hide[el].element));for(el in setEmpty)setValueEmpty(setEmpty[el]);1==window.submit&&jQuery("form").trigger("submit"),setupLabel("all")}function prepareMath(){window.FormCraftsMath=[],jQuery(".form-element .text-cover > div, #stripe-value-text, .paypal-value-text, .paypal-text-text, .paypal-qty-text").each(function(){for(var a=jQuery(this).text(),b=jQuery(this).html(),c=/\[(.*?)\]/g;null!=(match=c.exec(a));){var d=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,8),b=b.replace("["+match[1]+"]",'<span id="bind-'+d+'"></span>');jQuery(this).html(b),window.FormCraftsMath[d]=[],window.FormCraftsMath[d].variables=[],window.FormCraftsMath[d].string=match[1].replace(/[^a-zA-Z0-9.*()\-+\/]+/g,""),window.FormCraftsMath[d].resultType=""==match[1].replace(/[^*\-+\/]+/g,"")?"string":"integer";var e=match[1].replace(/[^0-9a-zA-Z*\-+\/]+/g,"").split(/[*\-+\/]/);for(field in e)""!=e[field]&&parseFloat(e[field])!=e[field]&&window.FormCraftsMath[d].variables.push(e[field])}}),jQuery("input.text-hidden-field, input.paypal-value-value, input.paypal-qty-value").each(function(){for(var a=jQuery(this).val(),b=/\[(.*?)\]/g;null!=(match=b.exec(a));){var c=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,8);jQuery(this).attr("id","bind-"+c),window.FormCraftsMath[c]=[],window.FormCraftsMath[c].variables=[],window.FormCraftsMath[c].string=match[1].replace(/[^a-zA-Z0-9.*()\-+\/]+/g,""),window.FormCraftsMath[c].resultType=""==match[1].replace(/[^*\-+\/]+/g,"")?"string":"integer";var d=match[1].replace(/[^0-9a-zA-Z*\-+\/]+/g,"").split(/[*\-+\/]/);for(field in d)""!=d[field]&&parseFloat(d[field])!=d[field]&&(jQuery(this).attr("name")!=d[field]||"hidden"!=jQuery(this).attr("type"))&&window.FormCraftsMath[c].variables.push(d[field])}})}function refreshMath(element,paypal){for(bindKey in window.FormCraftsMath){var isString=!1;for(variable in window.FormCraftsMath[bindKey].variables)if(thisVariable=window.FormCraftsMath[bindKey].variables[variable],thisVariable==element.attr("name")||thisVariable+"[]"==element.attr("name")){var mathResult=window.FormCraftsMath[bindKey].string;for(key in window.FormCraftsMath[bindKey].variables)"string"==valueType(window.FormCraftsMath[bindKey].variables[key])&&(isString=!0);
for(key in window.FormCraftsMath[bindKey].variables)var mathResult=mathResult.replace(window.FormCraftsMath[bindKey].variables[key],valueByNameSimple(window.FormCraftsMath[bindKey].variables[key]));if(mathResult=mathResult.replace("--","+"),isString)var finalValue=mathResult;else var finalValue=parseFloat(eval(mathResult))==parseInt(eval(mathResult))?parseInt(eval(mathResult)):eval(mathResult).toFixed(2);"hidden"==jQuery("#bind-"+bindKey).attr("type")?jQuery("#bind-"+bindKey).val(finalValue).trigger("input"):jQuery(".yes-spinning").length&&!jQuery("#bind-"+bindKey).parent().hasClass("no-spin")?spinTo("#bind-"+bindKey,finalValue):jQuery("#bind-"+bindKey).text(finalValue)}}1!=paypal&&refreshPayPal()}function refreshPayPal(){var a=0;jQuery(".paypal-charges-front").each(function(){var b=jQuery(this).attr("id").replace("paypal-line-",""),c=jQuery(this).find(".paypal-text-text").text(),d=jQuery(this).find(".paypal-qty-value").val();d=d!=parseInt(d)?1:d,jQuery(this).find(".paypal-qty-text").text(d);var e=jQuery(this).find(".paypal-value-value").val();e=e!=parseFloat(e)?0:e,lineValue=e*d,a+=lineValue,jQuery(this).find(".paypal-value-text").text(lineValue),jQuery("#pp-item-name-"+b).val(c),jQuery("#pp-item-qty-"+b).val(d),jQuery("#pp-item-value-"+b).val(e)}),a=Math.round(100*a)/100,jQuery(".yes-spinning").length?spinTo("#paypal-text-amount-show",a):jQuery("#paypal-text-amount-show").text(a),jQuery("#paypal-amount").val(a).trigger("input"),jQuery("#pp-back").val(a).trigger("input")}function spinTo(a,b){var c=""==jQuery(a).text()?0:parseFloat(jQuery(a).text());jQuery({someValue:c}).animate({someValue:parseFloat(b)},{duration:600,easing:"swing",context:b,step:function(){val=parseInt(b)!=parseFloat(b)?Math.ceil(100*this.someValue)/100:Math.ceil(this.someValue),jQuery(a).text(val)}}),setTimeout(function(){jQuery(a).text(parseFloat(b))},750)}+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),window.todoit=!1,"indexOf"in Array.prototype||(Array.prototype.indexOf=function(a,b){void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0);for(var c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1}),jQuery(document).ready(function(){setupLabel("all"),jQuery("body").on("touchend",".label.star, .label.smiley",function(){jQuery(this).trigger("click")}),jQuery("body").on("click touchend",".label",function(){if(1==window.todoit){{setTimeout(function(){setupLabel("all")},100)}window.todoit=!1}else jQuery("html").hasClass("lt-ie9")?(window.todoit=!0,jQuery(this).find("input").trigger("click").trigger("change").trigger("input")):setupLabel(this)}),jQuery("form").bind("reset",function(){setTimeout(function(){setupLabel("all")},10)}),jQuery("body").on("mouseover",".star",function(){for(var a=jQuery(this).attr("data-index");a>=0;)a--,jQuery(this).parent().find(".child-"+a).addClass("fake-hover")}),jQuery("body").on("mouseout",".star",function(){for(var a=jQuery(this).attr("data-index");a>=0;)a--,jQuery(this).parent().find(".child-"+a).removeClass("fake-hover")})}),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery),jQuery(document).mouseup(function(a){var b=jQuery(".btn-group"),c=jQuery(".dropdown-menu");b.is(a.target)||0!==b.has(a.target).length||b.hasClass("open")&&b.removeClass("open"),(c.is(a.target)||0!==c.has(a.target).length)&&b.hasClass("open")&&b.removeClass("open")}),jQuery(document).ready(function(){dateSet(),timeSet(),fileSet(),setJEditor(),prepareShowcase(),0==supports3d()&&jQuery(".showcase-wrapper .slide").addClass("no-transform"),jQuery(document).keydown(function(a){27==a.keyCode&&(jQuery(".fcclose").click(),jQuery(".close").click())}),jQuery("body").on("input",".showcase-list",function(){prepareShowcase()}),jQuery("body").on("click",".note-editor .btn, .note-editor .close",function(){jQuery(this).parents(".input_cover").find(".note-editable").trigger("input")}),jQuery("body").on("click",".note-recent-color",function(){jQuery(this).parent().find(".dropdown-toggle").trigger("click")}),jQuery("body").on("input",".datepicker.sub",function(){var a=jQuery.datepicker.formatDate("yy-M-dd",jQuery(this).datepicker("getDate"));jQuery(this).parent().find(".hidden_one").val(a),jQuery(this).parent().find(".hidden_one").trigger("input")}),jQuery("body").on("click",".dropdown-toggle",function(){jQuery(this).parent().hasClass("open")?jQuery(this).parent().removeClass("open"):jQuery(this).parent().addClass("open")}),jQuery("body").on("click",".showcase-wrapper .left-scroll",function(){var a=jQuery(this).parent(),b=parseInt(a.find(".center").attr("data-index"));b=0==b?a.find(".slide").length:b,a.find(".left,.right,.center,.far-left,.far-right").removeClass("left right center far-left far-right").find("input").prop("checked",!1),a.find(".slide-"+(b-1)).addClass("center"),a.find(".slide-"+(b-1)).find("input").prop("checked",!0).trigger("input").trigger("change"),a.find(".slide-"+(b-1)).find("input").val(),a.find(".slide-"+(b-2)).addClass("left"),a.find(".slide-"+b).addClass("right");for(var c=b-1,d=a.find(".slide").length,e=c-2,f=c+2;e>=0;)a.find(".slide-"+e).addClass("far-left"),e--;for(;d>=f;)a.find(".slide-"+f).addClass("far-right"),f++}),jQuery("body").on("click",".showcase-wrapper .right-scroll",function(){var a=jQuery(this).parent(),b=parseInt(a.find(".center").attr("data-index"));b=b==parseInt(a.find(".slide").length-1)?-1:b,a.find(".left,.right,.center,.far-left,.far-right").removeClass("left right center far-left far-right").find("input").prop("checked",!1),a.find(".slide-"+(b+1)).addClass("center"),a.find(".slide-"+(b+1)).find("input").prop("checked",!0).trigger("input").trigger("change"),a.find(".slide-"+b).addClass("left"),a.find(".slide-"+(b+2)).addClass("right");for(var c=b+1,d=a.find(".slide").length,e=c-2,f=c+2;e>=0;)a.find(".slide-"+e).addClass("far-left"),e--;for(;d>=f;)a.find(".slide-"+f).addClass("far-right"),f++}),jQuery('#mode-selector [name="mode"]').click(function(){jQuery(".index-1").trigger("click")}),jQuery("body").on("click",".delete-uploaded-file",function(){jQuery(this).parent("li").find("span").attr("data-temp",jQuery(this).parent("li").find("span").text()),jQuery(this).parent("li").find("span").text("deleting"),jQuery.ajax({url:window.base+"form/file/delete?temp="+jQuery(this).attr("data-temp"),type:"GET",context:$(this)}).done(function(a){a.success?(ths=jQuery(this).parents(".input_cover").find(".fileupload"),jQuery(this).parent().remove(),refreshFilesCount(),ths.trigger("input")):alert("Failed to delete file")}).always(function(){jQuery(this).parent().find("span").text(jQuery(this).parent().find("span").attr("data-temp"))})}),jQuery("body").on("click",".fileupload-cancel-all",function(){window.jqXHR.abort()}),jQuery(".tooltip-simple").tooltip(),refresh_captcha(),jQuery("body").on("click",".captcha-image",function(){refresh_captcha()}),jQuery(".step-arrow").click(function(){if(jQuery(this).hasClass("next")){var a=parseInt(jQuery(".pagination span.active").attr("data-index"))+1;setTab(a,jQuery(this).parents(".step-arrow-cover").hasClass("enableNav")?"":"arrow","next")}if(jQuery(this).hasClass("prev")){var a=parseInt(jQuery(".pagination span.active").attr("data-index"))-1;setTab(a,jQuery(this).parents(".step-arrow-cover").hasClass("enableNav")?"":"arrow","prev")}}),jQuery("body").on("focus",".meridianpicker",function(){jQuery(this).val("AM"==jQuery(this).val()?"PM":"PM"==jQuery(this).val()?"AM":"AM"),jQuery(this).blur(),jQuery(this).trigger("input")}),jQuery("body").on("click",".input-addon",function(){jQuery(this).parents(".input_cover").find("select").trigger("focus")}),jQuery("body").on("click",".enableNav.pagination span.page-index",function(){var a=jQuery(this).attr("data-index");setTab(a,"tabs")})}),jQuery.fn.hourpicker=function(a){var b=jQuery.extend({format:24,min:1,max:18,step:1},a);b.format=parseInt(b.format),b.min=parseInt(b.min),b.max=parseInt(b.max),b.step=parseInt(b.step),b.step=b.step<1?1:b.step,b.step=isNaN(b.step)?1:b.step,b.min=isNaN(b.min)?1:b.min,b.max=isNaN(b.max)?24:b.max,b.format=isNaN(b.format)?24:b.format;var c='<option value="" disabled selected>hh</option>',d=b.min,e=!0;do c=c+"<option>"+d+"</option>",d+=b.step,(d>b.max||d>b.format||d>24)&&(e=!1);while(1==e);jQuery(this).empty().append(c)},jQuery.fn.minutepicker=function(a){var b=jQuery.extend({min:0,max:59,step:1},a);b.step=parseInt(b.step),b.step=b.step<1?1:b.step,b.step=isNaN(b.step)?1:b.step;var c='<option value="" disabled selected>mm</option>',d=b.min,e=!0;do c=10>d?c+"<option>0"+d+"</option>":c+"<option>"+d+"</option>",d+=b.step,(d>b.max||d>60)&&(e=!1);while(1==e);jQuery(this).empty().append(c)},jQuery(document).ready(function(){var a=window.referrerURL.split("?"),b=a.length>1?a[a.length-1].split("&"):[];if(document.URL!=window.referrerURL)var a=document.URL.split("?"),c=a.length>1?a[a.length-1].split("&"):[],b=b.concat(c);if(b)for(var d={},e=0;e<b.length;e++){var f=b[e].split("=");d[f[0]]=void 0==f[1]?"":decodeURIComponent(f[1])}else var d=null;if(null!=window.fp){window.fp=jQuery.parseJSON(window.fp);for(x in d)window.fp[x]=d[x];setTimeout(function(){loadProgress()},100)}else{window.fp={};for(x in d)window.fp[x]=d[x];setTimeout(function(){loadProgress()},100)}if(prepareMath(),jQuery("form").find("input, textarea, .submit").prop("disabled",!1),jQuery("#stripe-payment-form").length){if(""==window.StripePK.trim()){jQuery("#stripe-error-message").text("You have not connected your FormCrafts account with Stripe.").slideDown("fast"),jQuery(".formcrafts-form").find("input, textarea, .submit").prop("disabled",!1)}window.StripeMain=Stripe(window.StripePK);var g=window.StripeMain.elements();window.StripeCard=g.create("card"),window.StripeCard.mount("#stripe-payment-form")}if(jQuery("body").on("input",'.input_cover input[type="text"], .input_cover input[type="email"], .input_cover textarea, .text-hidden-field, .input_cover .slider-input',function(){refreshMath(jQuery(this))}),jQuery("body").on("input",'#paypal-details input[type="hidden"]',function(){refreshMath(jQuery(this),!0)}),jQuery("body").on("click, change",'.input_cover input[type="radio"], .input_cover input[type="checkbox"]',function(){refreshMath(jQuery(this))}),jQuery("body").on("change",".input_cover select",function(){refreshMath(jQuery(this))}),jQuery(".input_cover select").trigger("change"),jQuery("body").on("click",'[target="_self"]',function(){"undefined"!=typeof socket&&socket.postMessage("URL:"+jQuery(this).attr("href"))}),prepareShowcase(),refreshPayPal(),jQuery("#pp-back").trigger("input"),jQuery(".form-element a").each(function(){"_self"==jQuery(this).attr("target")?"undefined"!=typeof socket&&jQuery(this).attr("onclick","javascript:return false;"):void 0!=jQuery(this).attr("target")&&"_blank"==jQuery(this).attr("target")||!jQuery(".iframe-active").length||jQuery(this).attr("target","_blank")}),void 0==window.FormCraftLogic)return!1;for(logic in window.FormCraftLogic)if("undefined"!=typeof window.FormCraftLogic[logic].conditions&&window.FormCraftLogic[logic].conditions.length<=1)for(eventType in window.FormCraftLogic[logic].events)switch(window.FormCraftLogic[logic].events[eventType].action){case"email":window.sendEmails=window.sendEmails||[];var h=window.sendEmails.indexOf(window.FormCraftLogic[logic].events[eventType].action);-1==h&&window.sendEmails.push(window.FormCraftLogic[logic].events[eventType].action);break;case"tags":window.addTags=window.addTags||[];var h=window.addTags.indexOf(window.FormCraftLogic[logic].events[eventType].action);-1==h&&window.addTags.push(window.FormCraftLogic[logic].events[eventType].actionTo);break;case"integration":window.addIntegration=window.addIntegration||[];var h=window.addIntegration.indexOf(window.FormCraftLogic[logic].events[eventType].action);-1==h&&window.addIntegration.push(window.FormCraftLogic[logic].events[eventType].actionTo);break;case"redirect":window.redirect=window.FormCraftLogic[logic].events[eventType].actionTo}if(jQuery(".formcrafts-form").hasClass("multi-page")?"undefined"!=typeof window.hasGA&&ga("b.send","event","Multi-Page Form","Reached Page 1",window.formName,1):jQuery(".step-arrow").hide(),setTimeout(function(){jQuery("#powered-by-link").css("display","block")},500),jQuery(".form-page-cover.active").removeClass("active"),jQuery(".form-page-cover").hide(),jQuery(".pagination span.active").removeClass("active"),jQuery(".multi-page .step-arrow").show(),jQuery(".index-1").addClass("active"),jQuery(".page-1").addClass("active"),jQuery(".page-1").show(),jQuery(".form-page-cover").css("background","initial"),jQuery(".multi-page .step-arrow.prev").hide(),jQuery(".formcrafts-cover").css("background-color",""),jQuery(".formcrafts-cover").css("backgroundColor",""),jQuery(".formcrafts-cover").css("background-image",""),jQuery(".formcrafts-cover").css("backgroundImage",""),jQuery("form.formcrafts-form").submit(function(a){return a.preventDefault(),jQuery(this).find("input, textarea, .submit").prop("disabled",!0),jQuery("button.submit").parents(".form-page-cover").hasClass("active")||jQuery("button.submit").parents(".form-page-cover").hasClass("page-0")?jQuery("#stripe-payment-form").length&&0==jQuery("#stripe_token").length?(stripe_get_token(jQuery(this)),!1):void submit_form(jQuery(this),"all",function(a,b){a.paypal&&(jQuery("#pp-custom").val(a.paypal),jQuery("#paypal-redirect-div").show(),jQuery(".formcrafts-form").fadeOut(300),a.redirect_paypal&&jQuery("#pp-return").val(a.redirect_paypal),jQuery("#paypal-form-post input").each(function(){var a=jQuery(this).attr("name");if(-1!=a.indexOf("quantity_")&&0==jQuery(this).val()){var b=a.replace("quantity","item_name"),c=a.replace("quantity","amount");jQuery('[name="'+b+'"]').remove(),jQuery('[name="'+c+'"]').remove(),jQuery('[name="'+a+'"]').remove()}}),jQuery("#paypal-form-post .paypal-pp-field-name").each(function(a){var b=parseInt(jQuery(this).attr("name").replace("item_name_",""));b!=a+1&&(jQuery('[name="item_name_'+b+'"]').attr("name","item_name_"+(a+1)),jQuery('[name="quantity_'+b+'"]').attr("name","quantity_"+(a+1)),jQuery('[name="amount_'+b+'"]').attr("name","amount_"+(a+1)))}),jQuery("#paypal-form-post").trigger("submit")),a.success||a.redirect||(jQuery(b).find("input, textarea, .submit").prop("disabled",!1),jQuery("#stripe_token").length&&jQuery("#stripe_token").remove()),a.warning&&-1!=document.URL.indexOf("preview=true")&&(jQuery(".warning").remove(),jQuery("body").append('<div class="warning">'+a.warning+"</div>")),(a.redirect||a.success)&&"undefined"!=typeof window.formName&&ga("b.send","event","Form Submit","Submitted",window.formName,1),a.redirect&&("1"==window.isInIframe?"object"==typeof socket&&socket.postMessage("URL:"+a.redirect):window.location=a.redirect),a.success&&(jQuery("#success-response").html('<i class="icon-ok-circled"></i>'+a.success),"undefined"!=typeof socket&&socket.postMessage("scrollTop"),jQuery("#success-response").slideDown(500),jQuery(".form-body > div").not("#success-response").addClass("disappearing").slideUp(500,function(){jQuery(".form-body > div").not("#success-response").remove()}),jQuery("#success-response").animate({"padding-top":"50px","padding-bottom":"50px"},300),setTimeout(function(){jQuery("#powered-2").addClass("show").slideDown("fast",function(){jQuery("#powered-2").addClass("show")})},900),"object"==typeof socket&&socket.postMessage("close"))}):(jQuery(obj).find("input, textarea, .submit").prop("disabled",!1),!1)}),jQuery(".autosave-enabled").length){setInterval(function(){save_form_progress(jQuery(".autosave-enabled"),"all",function(){})},5e3)}jQuery(".hasDatepicker").removeClass("hasDatepicker"),dateSet(),jQuery(".ui-slider").removeClass("ui-slider"),sliderSet("null"),jQuery(".tooltip-q").tooltip(),jQuery(".has-tooltip").tooltip(),jQuery("[contenteditable]").removeAttr("contenteditable"),jQuery(".formcrafts").on("input","input, textarea",function(){ConditionalLogic(this)}),jQuery(".formcrafts").on("change",'select, input[type="radio"], input[type="checkbox"]',function(){ConditionalLogic(this)})}),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;e.length>d;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,this.each(h?function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()
}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],a):a(window.jQuery)}(function(a){"use strict";a.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||a('<input type="file">').prop("disabled")),a.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),a.support.xhrFormDataFileUpload=!!window.FormData,a.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),a.widget("blueimp.fileupload",{options:{dropZone:a(document),pasteZone:a(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(b,c){return b=this.messages[b]||b.toString(),c&&a.each(c,function(a,c){b=b.replace("{"+a+"}",c)}),b},formData:function(a){return a.serializeArray()},add:function(b,c){return b.isDefaultPrevented()?!1:void((c.autoUpload||c.autoUpload!==!1&&a(this).fileupload("option","autoUpload"))&&c.process().done(function(){c.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:a.support.blobSlice&&function(){var a=this.slice||this.webkitSlice||this.mozSlice;return a.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(a,b,c){var d=a-this.timestamp;return(!this.bitrate||!c||d>c)&&(this.bitrate=(b-this.loaded)*(1e3/d)*8,this.loaded=b,this.timestamp=a),this.bitrate}},_isXHRUpload:function(b){return!b.forceIframeTransport&&(!b.multipart&&a.support.xhrFileUpload||a.support.xhrFormDataFileUpload)},_getFormData:function(b){var c;return"function"==typeof b.formData?b.formData(b.form):a.isArray(b.formData)?b.formData:"object"===a.type(b.formData)?(c=[],a.each(b.formData,function(a,b){c.push({name:a,value:b})}),c):[]},_getTotal:function(b){var c=0;return a.each(b,function(a,b){c+=b.size||1}),c},_initProgressObject:function(b){var c={loaded:0,total:0,bitrate:0};b._progress?a.extend(b._progress,c):b._progress=c},_initResponseObject:function(a){var b;if(a._response)for(b in a._response)a._response.hasOwnProperty(b)&&delete a._response[b];else a._response={}},_onProgress:function(b,c){if(b.lengthComputable){var d,e=Date.now?Date.now():(new Date).getTime();if(c._time&&c.progressInterval&&e-c._time<c.progressInterval&&b.loaded!==b.total)return;c._time=e,d=Math.floor(b.loaded/b.total*(c.chunkSize||c._progress.total))+(c.uploadedBytes||0),this._progress.loaded+=d-c._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(e,this._progress.loaded,c.bitrateInterval),c._progress.loaded=c.loaded=d,c._progress.bitrate=c.bitrate=c._bitrateTimer.getBitrate(e,d,c.bitrateInterval),this._trigger("progress",a.Event("progress",{delegatedEvent:b}),c),this._trigger("progressall",a.Event("progressall",{delegatedEvent:b}),this._progress)}},_initProgressListener:function(b){var c=this,d=b.xhr?b.xhr():a.ajaxSettings.xhr();d.upload&&(a(d.upload).bind("progress",function(a){var d=a.originalEvent;a.lengthComputable=d.lengthComputable,a.loaded=d.loaded,a.total=d.total,c._onProgress(a,b)}),b.xhr=function(){return d})},_isInstanceOf:function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"},_initXHRData:function(b){var c,d=this,e=b.files[0],f=b.multipart||!a.support.xhrFileUpload,g=b.paramName[0];b.headers=a.extend({},b.headers),b.contentRange&&(b.headers["Content-Range"]=b.contentRange),f&&!b.blob&&this._isInstanceOf("File",e)||(b.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"'),f?a.support.xhrFormDataFileUpload&&(b.postMessage?(c=this._getFormData(b),b.blob?c.push({name:g,value:b.blob}):a.each(b.files,function(a,d){c.push({name:b.paramName[a]||g,value:d})})):(d._isInstanceOf("FormData",b.formData)?c=b.formData:(c=new FormData,a.each(this._getFormData(b),function(a,b){c.append(b.name,b.value)})),b.blob?c.append(g,b.blob,e.name):a.each(b.files,function(a,e){(d._isInstanceOf("File",e)||d._isInstanceOf("Blob",e))&&c.append(b.paramName[a]||g,e,e.name)})),b.data=c):(b.contentType=e.type,b.data=b.blob||e),b.blob=null},_initIframeSettings:function(b){var c=a("<a></a>").prop("href",b.url).prop("host");b.dataType="iframe "+(b.dataType||""),b.formData=this._getFormData(b),b.redirect&&c&&c!==location.host&&b.formData.push({name:b.redirectParamName||"redirect",value:b.redirect})},_initDataSettings:function(a){this._isXHRUpload(a)?(this._chunkedUpload(a,!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)),a.postMessage&&(a.dataType="postmessage "+(a.dataType||""))):this._initIframeSettings(a)},_getParamName:function(b){var c=a(b.fileInput),d=b.paramName;return d?a.isArray(d)||(d=[d]):(d=[],c.each(function(){for(var b=a(this),c=b.prop("name")||"files[]",e=(b.prop("files")||[1]).length;e;)d.push(c),e-=1}),d.length||(d=[c.prop("name")||"files[]"])),d},_initFormSettings:function(b){b.form&&b.form.length||(b.form=a(b.fileInput.prop("form")),b.form.length||(b.form=a(this.options.fileInput.prop("form")))),b.paramName=this._getParamName(b),b.url||(b.url=b.form.prop("action")||location.href),b.type=(b.type||"string"===a.type(b.form.prop("method"))&&b.form.prop("method")||"").toUpperCase(),"POST"!==b.type&&"PUT"!==b.type&&"PATCH"!==b.type&&(b.type="POST"),b.formAcceptCharset||(b.formAcceptCharset=b.form.attr("accept-charset"))},_getAJAXSettings:function(b){var c=a.extend({},this.options,b);return this._initFormSettings(c),this._initDataSettings(c),c},_getDeferredState:function(a){return a.state?a.state():a.isResolved()?"resolved":a.isRejected()?"rejected":"pending"},_enhancePromise:function(a){return a.success=a.done,a.error=a.fail,a.complete=a.always,a},_getXHRPromise:function(b,c,d){var e=a.Deferred(),f=e.promise();return c=c||this.options.context||f,b===!0?e.resolveWith(c,d):b===!1&&e.rejectWith(c,d),f.abort=e.promise,this._enhancePromise(f)},_addConvenienceMethods:function(b,c){var d=this,e=function(b){return a.Deferred().resolveWith(d,b).promise()};c.process=function(b,f){return(b||f)&&(c._processQueue=this._processQueue=(this._processQueue||e([this])).pipe(function(){return c.errorThrown?a.Deferred().rejectWith(d,[c]).promise():e(arguments)}).pipe(b,f)),this._processQueue||e([this])},c.submit=function(){return"pending"!==this.state()&&(c.jqXHR=this.jqXHR=d._trigger("submit",a.Event("submit",{delegatedEvent:b}),this)!==!1&&d._onSend(b,this)),this.jqXHR||d._getXHRPromise()},c.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",d._getXHRPromise())},c.state=function(){return this.jqXHR?d._getDeferredState(this.jqXHR):this._processQueue?d._getDeferredState(this._processQueue):void 0},c.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===d._getDeferredState(this._processQueue)},c.progress=function(){return this._progress},c.response=function(){return this._response}},_getUploadedBytes:function(a){var b=a.getResponseHeader("Range"),c=b&&b.split("-"),d=c&&c.length>1&&parseInt(c[1],10);return d&&d+1},_chunkedUpload:function(b,c){b.uploadedBytes=b.uploadedBytes||0;var d,e,f=this,g=b.files[0],h=g.size,i=b.uploadedBytes,j=b.maxChunkSize||h,k=this._blobSlice,l=a.Deferred(),m=l.promise();return this._isXHRUpload(b)&&k&&(i||h>j)&&!b.data?c?!0:i>=h?(g.error=b.i18n("uploadedBytes"),this._getXHRPromise(!1,b.context,[null,"error",g.error])):(e=function(){var c=a.extend({},b),m=c._progress.loaded;c.blob=k.call(g,i,i+j,g.type),c.chunkSize=c.blob.size,c.contentRange="bytes "+i+"-"+(i+c.chunkSize-1)+"/"+h,f._initXHRData(c),f._initProgressListener(c),d=(f._trigger("chunksend",null,c)!==!1&&a.ajax(c)||f._getXHRPromise(!1,c.context)).done(function(d,g,j){i=f._getUploadedBytes(j)||i+c.chunkSize,m+c.chunkSize-c._progress.loaded&&f._onProgress(a.Event("progress",{lengthComputable:!0,loaded:i-c.uploadedBytes,total:i-c.uploadedBytes}),c),b.uploadedBytes=c.uploadedBytes=i,c.result=d,c.textStatus=g,c.jqXHR=j,f._trigger("chunkdone",null,c),f._trigger("chunkalways",null,c),h>i?e():l.resolveWith(c.context,[d,g,j])}).fail(function(a,b,d){c.jqXHR=a,c.textStatus=b,c.errorThrown=d,f._trigger("chunkfail",null,c),f._trigger("chunkalways",null,c),l.rejectWith(c.context,[a,b,d])})},this._enhancePromise(m),m.abort=function(){return d.abort()},e(),m):!1},_beforeSend:function(a,b){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(b),this._initProgressObject(b),b._progress.loaded=b.loaded=b.uploadedBytes||0,b._progress.total=b.total=this._getTotal(b.files)||1,b._progress.bitrate=b.bitrate=0,this._active+=1,this._progress.loaded+=b.loaded,this._progress.total+=b.total},_onDone:function(b,c,d,e){var f=e._progress.total,g=e._response;e._progress.loaded<f&&this._onProgress(a.Event("progress",{lengthComputable:!0,loaded:f,total:f}),e),g.result=e.result=b,g.textStatus=e.textStatus=c,g.jqXHR=e.jqXHR=d,this._trigger("done",null,e)},_onFail:function(a,b,c,d){var e=d._response;d.recalculateProgress&&(this._progress.loaded-=d._progress.loaded,this._progress.total-=d._progress.total),e.jqXHR=d.jqXHR=a,e.textStatus=d.textStatus=b,e.errorThrown=d.errorThrown=c,this._trigger("fail",null,d)},_onAlways:function(a,b,c,d){this._trigger("always",null,d)},_onSend:function(b,c){c.submit||this._addConvenienceMethods(b,c);var d,e,f,g,h=this,i=h._getAJAXSettings(c),j=function(){return h._sending+=1,i._bitrateTimer=new h._BitrateTimer,d=d||((e||h._trigger("send",a.Event("send",{delegatedEvent:b}),i)===!1)&&h._getXHRPromise(!1,i.context,e)||h._chunkedUpload(i)||a.ajax(i)).done(function(a,b,c){h._onDone(a,b,c,i)}).fail(function(a,b,c){h._onFail(a,b,c,i)}).always(function(a,b,c){if(h._onAlways(a,b,c,i),h._sending-=1,h._active-=1,i.limitConcurrentUploads&&i.limitConcurrentUploads>h._sending)for(var d=h._slots.shift();d;){if("pending"===h._getDeferredState(d)){d.resolve();break}d=h._slots.shift()}0===h._active&&h._trigger("stop")})};return this._beforeSend(b,i),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(f=a.Deferred(),this._slots.push(f),g=f.pipe(j)):(this._sequence=this._sequence.pipe(j,j),g=this._sequence),g.abort=function(){return e=[void 0,"abort","abort"],d?d.abort():(f&&f.rejectWith(i.context,e),j())},this._enhancePromise(g)):j()},_onAdd:function(b,c){var d,e,f,g,h=this,i=!0,j=a.extend({},this.options,c),k=j.limitMultiFileUploads,l=this._getParamName(j);if((j.singleFileUploads||k)&&this._isXHRUpload(j))if(!j.singleFileUploads&&k)for(f=[],d=[],g=0;g<c.files.length;g+=k)f.push(c.files.slice(g,g+k)),e=l.slice(g,g+k),e.length||(e=l),d.push(e);else d=l;else f=[c.files],d=[l];return c.originalFiles=c.files,a.each(f||c.files,function(e,g){var j=a.extend({},c);return j.files=f?g:[g],j.paramName=d[e],h._initResponseObject(j),h._initProgressObject(j),h._addConvenienceMethods(b,j),i=h._trigger("add",a.Event("add",{delegatedEvent:b}),j)}),i},_replaceFileInput:function(b){var c=b.clone(!0);a("<form></form>").append(c)[0].reset(),b.after(c).detach(),a.cleanData(b.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(a,d){return d===b[0]?c[0]:d}),b[0]===this.element[0]&&(this.element=c)},_handleFileTreeEntry:function(b,c){var d,e=this,f=a.Deferred(),g=function(a){a&&!a.entry&&(a.entry=b),f.resolve([a])};return c=c||"",b.isFile?b._file?(b._file.relativePath=c,f.resolve(b._file)):b.file(function(a){a.relativePath=c,f.resolve(a)},g):b.isDirectory?(d=b.createReader(),d.readEntries(function(a){e._handleFileTreeEntries(a,c+b.name+"/").done(function(a){f.resolve(a)}).fail(g)},g)):f.resolve([]),f.promise()},_handleFileTreeEntries:function(b,c){var d=this;return a.when.apply(a,a.map(b,function(a){return d._handleFileTreeEntry(a,c)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(b){b=b||{};var c=b.items;return c&&c.length&&(c[0].webkitGetAsEntry||c[0].getAsEntry)?this._handleFileTreeEntries(a.map(c,function(a){var b;return a.webkitGetAsEntry?(b=a.webkitGetAsEntry(),b&&(b._file=a.getAsFile()),b):a.getAsEntry()})):a.Deferred().resolve(a.makeArray(b.files)).promise()},_getSingleFileInputFiles:function(b){b=a(b);var c,d,e=b.prop("webkitEntries")||b.prop("entries");if(e&&e.length)return this._handleFileTreeEntries(e);if(c=a.makeArray(b.prop("files")),c.length)void 0===c[0].name&&c[0].fileName&&a.each(c,function(a,b){b.name=b.fileName,b.size=b.fileSize});else{if(d=b.prop("value"),!d)return a.Deferred().resolve([]).promise();c=[{name:d.replace(/^.*\\/,"")}]}return a.Deferred().resolve(c).promise()},_getFileInputFiles:function(b){return b instanceof a&&1!==b.length?a.when.apply(a,a.map(b,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(b)},_onChange:function(b){var c=this,d={fileInput:a(b.target),form:a(b.target.form)};this._getFileInputFiles(d.fileInput).always(function(e){d.files=e,c.options.replaceFileInput&&c._replaceFileInput(d.fileInput),c._trigger("change",a.Event("change",{delegatedEvent:b}),d)!==!1&&c._onAdd(b,d)})},_onPaste:function(b){var c=b.originalEvent&&b.originalEvent.clipboardData&&b.originalEvent.clipboardData.items,d={files:[]};c&&c.length&&(a.each(c,function(a,b){var c=b.getAsFile&&b.getAsFile();c&&d.files.push(c)}),this._trigger("paste",a.Event("paste",{delegatedEvent:b}),d)!==!1&&this._onAdd(b,d))},_onDrop:function(b){b.dataTransfer=b.originalEvent&&b.originalEvent.dataTransfer;var c=this,d=b.dataTransfer,e={};d&&d.files&&d.files.length&&(b.preventDefault(),this._getDroppedFiles(d).always(function(d){e.files=d,c._trigger("drop",a.Event("drop",{delegatedEvent:b}),e)!==!1&&c._onAdd(b,e)}))},_onDragOver:function(b){b.dataTransfer=b.originalEvent&&b.originalEvent.dataTransfer;var c=b.dataTransfer;c&&-1!==a.inArray("Files",c.types)&&this._trigger("dragover",a.Event("dragover",{delegatedEvent:b}))!==!1&&(b.preventDefault(),c.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),a.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(b,c){var d=-1!==a.inArray(b,this._specialOptions);d&&this._destroyEventHandlers(),this._super(b,c),d&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var b=this.options;void 0===b.fileInput?b.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):b.fileInput instanceof a||(b.fileInput=a(b.fileInput)),b.dropZone instanceof a||(b.dropZone=a(b.dropZone)),b.pasteZone instanceof a||(b.pasteZone=a(b.pasteZone))},_getRegExp:function(a){var b=a.split("/"),c=b.pop();return b.shift(),new RegExp(b.join("/"),c)},_isRegExpOption:function(b,c){return"url"!==b&&"string"===a.type(c)&&/^\/.*\/[igm]{0,3}$/.test(c)},_initDataAttributes:function(){var b=this,c=this.options;a.each(a(this.element[0].cloneNode(!1)).data(),function(a,d){b._isRegExpOption(a,d)&&(d=b._getRegExp(d)),c[a]=d})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(b){var c=this;b&&!this.options.disabled&&(b.fileInput&&!b.files?this._getFileInputFiles(b.fileInput).always(function(a){b.files=a,c._onAdd(null,b)}):(b.files=a.makeArray(b.files),this._onAdd(null,b)))},send:function(b){if(b&&!this.options.disabled){if(b.fileInput&&!b.files){var c,d,e=this,f=a.Deferred(),g=f.promise();return g.abort=function(){return d=!0,c?c.abort():(f.reject(null,"abort","abort"),g)},this._getFileInputFiles(b.fileInput).always(function(a){if(!d){if(!a.length)return void f.reject();b.files=a,c=e._onSend(null,b).then(function(a,b,c){f.resolve(a,b,c)},function(a,b,c){f.reject(a,b,c)})}}),this._enhancePromise(g)}if(b.files=a.makeArray(b.files),b.files.length)return this._onSend(null,b)}return this._getXHRPromise(!1,b&&b.context)}})}),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)}(function(a){"use strict";var b=0;a.ajaxTransport("iframe",function(c){if(c.async){var d,e,f,g=c.initialIframeSrc||"javascript:false;";return{send:function(h,i){d=a('<form style="display:none;"></form>'),d.attr("accept-charset",c.formAcceptCharset),f=/\?/.test(c.url)?"&":"?","DELETE"===c.type?(c.url=c.url+f+"_method=DELETE",c.type="POST"):"PUT"===c.type?(c.url=c.url+f+"_method=PUT",c.type="POST"):"PATCH"===c.type&&(c.url=c.url+f+"_method=PATCH",c.type="POST"),b+=1,e=a('<iframe src="'+g+'" name="iframe-transport-'+b+'"></iframe>').bind("load",function(){var b,f=a.isArray(c.paramName)?c.paramName:[c.paramName];e.unbind("load").bind("load",function(){var b;try{if(b=e.contents(),!b.length||!b[0].firstChild)throw new Error}catch(c){b=void 0}i(200,"success",{iframe:b}),a('<iframe src="'+g+'"></iframe>').appendTo(d),window.setTimeout(function(){d.remove()},0)}),d.prop("target",e.prop("name")).prop("action",c.url).prop("method",c.type),c.formData&&a.each(c.formData,function(b,c){a('<input type="hidden"/>').prop("name",c.name).val(c.value).appendTo(d)}),c.fileInput&&c.fileInput.length&&"POST"===c.type&&(b=c.fileInput.clone(),c.fileInput.after(function(a){return b[a]}),c.paramName&&c.fileInput.each(function(b){a(this).prop("name",f[b]||c.paramName)}),d.append(c.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),d.submit(),b&&b.length&&c.fileInput.each(function(c,d){var e=a(b[c]);a(d).prop("name",e.prop("name")),e.replaceWith(d)})}),d.append(e).appendTo(document.body)},abort:function(){e&&e.unbind("load").prop("src",g),d&&d.remove()}}}}),a.ajaxSetup({converters:{"iframe text":function(b){return b&&a(b[0].body).text()},"iframe json":function(b){return b&&a.parseJSON(a(b[0].body).text())},"iframe html":function(b){return b&&a(b[0].body).html()},"iframe xml":function(b){var c=b&&b[0];return c&&a.isXMLDoc(c)?c:a.parseXML(c.XMLDocument&&c.XMLDocument.xml||a(c.body).html())},"iframe script":function(b){return b&&a.globalEval(a(b[0].body).text())}}})}),function(a,b){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(c,"mouseout",function(){a(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate(c,"mouseover",function(){a.datepicker._isDisabledDatepicker(f.inline?b.parent()[0]:f.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function e(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.10.3"}});var f,g="datepicker";a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return e(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var e=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:e,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,g,c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.unbind("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),("focus"===d||"both"===d)&&b.focus(this._showDatepicker),("button"===d||"both"===d)&&(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;a.length>e;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,g,c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,f,h){var i,j,k,l,m,n=this._dialogInst;return n||(this.uuid+=1,i="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+i+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),n=this._dialogInst=this._newInst(this._dialogInput,!1),n.settings={},a.data(this._dialogInput[0],g,n)),e(n.settings,f||{}),c=c&&c.constructor===Date?this._formatDate(n,c):c,this._dialogInput.val(c),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[j/2-100+l,k/2-150+m]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),n.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],g,n),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,g);d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,g),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,g)}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(c,d,f){var g,h,i,j,k=this._getInst(c);return 2===arguments.length&&"string"==typeof d?"defaults"===d?a.extend({},a.datepicker._defaults):k?"all"===d?a.extend({},k.settings):this._get(k,d):null:(g=d||{},"string"==typeof d&&(g={},g[d]=f),k&&(this._curInst===k&&this._hideDatepicker(),h=this._getDateDatepicker(c,!0),i=this._getMinMaxDate(k,"min"),j=this._getMinMaxDate(k,"max"),e(k.settings,g),null!==i&&g.dateFormat!==b&&g.minDate===b&&(k.settings.minDate=this._formatDate(k,i)),null!==j&&g.dateFormat!==b&&g.maxDate===b&&(k.settings.maxDate=this._formatDate(k,j)),"disabled"in g&&(g.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(a(c),k),this._autoSize(k),this._setDate(k,h),this._updateAlternate(k),this._updateDatepicker(k)),b)
},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(c){var d,e,f=a.datepicker._getInst(c.target);return a.datepicker._get(f,"constrainInput")?(d=a.datepicker._possibleChars(a.datepicker._get(f,"dateFormat")),e=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),c.ctrlKey||c.metaKey||" ">e||!d||d.indexOf(e)>-1):b},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,d,f,g,h,i,j;c=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),d=a.datepicker._get(c,"beforeShow"),f=d?d.apply(b,[b,c]):{},f!==!1&&(e(c.settings,f),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),g=!1,a(b).parents().each(function(){return g|="fixed"===a(this).css("position"),!g}),h={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(c),h=a.datepicker._checkOffset(c,h,g),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),c.inline||(i=a.datepicker._get(c,"showAnim"),j=a.datepicker._get(c,"duration"),c.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[i]?c.dpDiv.show(i,a.datepicker._get(c,"showOptions"),j):c.dpDiv[i||"show"](i?j:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4,f=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b),b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,d=this._getNumberOfMonths(b),e=d[1],g=17;b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",g*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus(),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,h=this._curInst;!h||b&&h!==a.data(b,g)||this._datepickerShowing&&(c=this._get(h,"showAnim"),d=this._get(h,"duration"),e=function(){a.datepicker._tidyDialog(h)},a.effects&&(a.effects.effect[c]||a.effects[c])?h.dpDiv.hide(c,a.datepicker._get(h,"showOptions"),d,e):h.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(h,"onClose"),f&&f.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id!==a.datepicker._mainDivId&&0===c.parents("#"+a.datepicker._mainDivId).length&&!c.hasClass(a.datepicker.markerClassName)&&!c.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).each(function(){a(this).val(e)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(c,d,e){if(null==c||null==d)throw"Invalid arguments";if(d="object"==typeof d?""+d:d+"",""===d)return null;var f,g,h,i,j=0,k=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof k?k:(new Date).getFullYear()%100+parseInt(k,10),m=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,n=(e?e.dayNames:null)||this._defaults.dayNames,o=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,p=(e?e.monthNames:null)||this._defaults.monthNames,q=-1,r=-1,s=-1,t=-1,u=!1,v=function(a){var b=c.length>f+1&&c.charAt(f+1)===a;return b&&f++,b},w=function(a){var b=v(a),c="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e=RegExp("^\\d{1,"+c+"}"),f=d.substring(j).match(e);if(!f)throw"Missing number at position "+j;return j+=f[0].length,parseInt(f[0],10)},x=function(c,e,f){var g=-1,h=a.map(v(c)?f:e,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(h,function(a,c){var e=c[1];return d.substr(j,e.length).toLowerCase()===e.toLowerCase()?(g=c[0],j+=e.length,!1):b}),-1!==g)return g+1;throw"Unknown name at position "+j},y=function(){if(d.charAt(j)!==c.charAt(f))throw"Unexpected literal at position "+j;j++};for(f=0;c.length>f;f++)if(u)"'"!==c.charAt(f)||v("'")?y():u=!1;else switch(c.charAt(f)){case"d":s=w("d");break;case"D":x("D",m,n);break;case"o":t=w("o");break;case"m":r=w("m");break;case"M":r=x("M",o,p);break;case"y":q=w("y");break;case"@":i=new Date(w("@")),q=i.getFullYear(),r=i.getMonth()+1,s=i.getDate();break;case"!":i=new Date((w("!")-this._ticksTo1970)/1e4),q=i.getFullYear(),r=i.getMonth()+1,s=i.getDate();break;case"'":v("'")?y():u=!0;break;default:y()}if(d.length>j&&(h=d.substr(j),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;if(-1===q?q=(new Date).getFullYear():100>q&&(q+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=q?0:-100)),t>-1)for(r=1,s=t;g=this._getDaysInMonth(q,r-1),!(g>=s);)r++,s-=g;if(i=this._daylightSavingAdjust(new Date(q,r-1,s)),i.getFullYear()!==q||i.getMonth()+1!==r||i.getDate()!==s)throw"Invalid date";return i},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=a.length>d+1&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;c>d.length;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;a.length>d;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=a.length>b+1&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;a.length>b;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"==""+g?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,ab=a.drawYear;if(0>_&&(_+=12,ab--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&Z>b?Z:b;this._daylightSavingAdjust(new Date(ab,_,1))>b;)_--,0>_&&(_=11,ab--);for(a.drawMonth=_,a.drawYear=ab,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(ab,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,ab,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(ab,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,ab,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;U[0]>w;w++){for(x="",this.maxRows=4,y=0;U[1]>y;y++){if(z=this._daylightSavingAdjust(new Date(ab,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,ab,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;7>v;v++)D=(v+k)%7,C+="<th"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(ab,_),ab===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(ab,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(ab,_,1-F)),J=0;H>J;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;7>v;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&Z>I||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,ab++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;12>k;k++)(!i||k>=d.getMonth())&&(!j||e.getMonth()>=k)&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p>=o;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),e=a.drawMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||h>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new c,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.10.3"}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1===c.which,f="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a){function b(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var c,d=a.ui.mouse.prototype,e=d._mouseInit;d._touchStart=function(a){var d=this;!c&&d._mouseCapture(a.originalEvent.changedTouches[0])&&(c=!0,d._touchMoved=!1,b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))},d._touchMove=function(a){c&&(this._touchMoved=!0,b(a,"mousemove"))},d._touchEnd=function(a){c&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),c=!1)},d._mouseInit=function(){var b=this;b.element.bind("touchstart",a.proxy(b,"_touchStart")).bind("touchmove",a.proxy(b,"_touchMove")).bind("touchend",a.proxy(b,"_touchEnd")),e.call(b)}}}(jQuery),function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;c>b;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):this.range=a([])},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a),this._on(a,this._handleEvents),this._hoverable(a),this._focusable(a)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;
return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;d.length>f;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;c.length>d;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=100*((i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())),k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?100*((d-e)/(f-e)):0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(c){var d,e,f,g,h=a(c.target).data("ui-slider-handle-index");switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(c.target).addClass("ui-state-active"),d=this._start(c,h),d===!1))return}switch(g=this.options.step,e=f=this.options.values&&this.options.values.length?this.values(h):this.value(),c.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(c,h,f)},click:function(a){a.preventDefault()},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}})}(jQuery);